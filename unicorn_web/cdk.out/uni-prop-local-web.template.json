{
 "Resources": {
  "UnicornWebBuslocalE31649A0": {
   "Type": "AWS::Events::EventBus",
   "Properties": {
    "Name": "UnicornWebBus-local"
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebBus-local/Resource"
   }
  },
  "UnicornWebCatchAllLogGroup289B1B17": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "LogGroupName": "/aws/events/local/unicorn.web-catchall",
    "RetentionInDays": 1
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebCatchAllLogGroup/Resource"
   }
  },
  "UnicornWebEventsBusPublishPolicy": {
   "Type": "AWS::Events::EventBusPolicy",
   "Properties": {
    "EventBusName": {
     "Ref": "UnicornWebBuslocalE31649A0"
    },
    "Statement": {
     "Action": "events:PutEvents",
     "Condition": {
      "StringEquals": {
       "aws:Source": "unicorn.web"
      }
     },
     "Effect": "Allow",
     "Principal": {
      "AWS": {
       "Fn::Join": [
        "",
        [
         "arn:",
         {
          "Ref": "AWS::Partition"
         },
         ":iam::",
         {
          "Ref": "AWS::AccountId"
         },
         ":root"
        ]
       ]
      }
     },
     "Resource": {
      "Fn::GetAtt": [
       "UnicornWebBuslocalE31649A0",
       "Arn"
      ]
     },
     "Sid": "OnlyWebServiceCanPublishToEventBus-local"
    },
    "StatementId": "OnlyWebServiceCanPublishToEventBus-local"
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebEventsBusPublishPolicy"
   }
  },
  "UnicornWebCatchAllRule14221109": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "Description": "Catch all events published by the web service.",
    "EventBusName": {
     "Ref": "UnicornWebBuslocalE31649A0"
    },
    "EventPattern": {
     "account": [
      {
       "Ref": "AWS::AccountId"
      }
     ],
     "source": [
      "unicorn.contracts",
      "unicorn.properties",
      "unicorn.web"
     ]
    },
    "Name": "unicorn.web-catchall",
    "State": "ENABLED",
    "Targets": [
     {
      "Arn": {
       "Fn::Join": [
        "",
        [
         "arn:",
         {
          "Ref": "AWS::Partition"
         },
         ":logs:",
         {
          "Ref": "AWS::Region"
         },
         ":",
         {
          "Ref": "AWS::AccountId"
         },
         ":log-group:",
         {
          "Ref": "UnicornWebCatchAllLogGroup289B1B17"
         }
        ]
       ]
      },
      "Id": "Target0"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebCatchAllRule/Resource"
   }
  },
  "EventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C309A2A110DE": {
   "Type": "Custom::CloudwatchLogResourcePolicy",
   "Properties": {
    "ServiceToken": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd22872D164C4C",
      "Arn"
     ]
    },
    "Create": {
     "Fn::Join": [
      "",
      [
       "{\"service\":\"CloudWatchLogs\",\"action\":\"putResourcePolicy\",\"parameters\":{\"policyName\":\"uniproplocalwebEventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C3092B67041E\",\"policyDocument\":\"{\\\"Statement\\\":[{\\\"Action\\\":[\\\"logs:PutLogEvents\\\",\\\"logs:CreateLogStream\\\"],\\\"Effect\\\":\\\"Allow\\\",\\\"Principal\\\":{\\\"Service\\\":\\\"events.amazonaws.com\\\"},\\\"Resource\\\":\\\"",
       {
        "Fn::GetAtt": [
         "UnicornWebCatchAllLogGroup289B1B17",
         "Arn"
        ]
       },
       "\\\"}],\\\"Version\\\":\\\"2012-10-17\\\"}\"},\"physicalResourceId\":{\"id\":\"EventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C309\"}}"
      ]
     ]
    },
    "Update": {
     "Fn::Join": [
      "",
      [
       "{\"service\":\"CloudWatchLogs\",\"action\":\"putResourcePolicy\",\"parameters\":{\"policyName\":\"uniproplocalwebEventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C3092B67041E\",\"policyDocument\":\"{\\\"Statement\\\":[{\\\"Action\\\":[\\\"logs:PutLogEvents\\\",\\\"logs:CreateLogStream\\\"],\\\"Effect\\\":\\\"Allow\\\",\\\"Principal\\\":{\\\"Service\\\":\\\"events.amazonaws.com\\\"},\\\"Resource\\\":\\\"",
       {
        "Fn::GetAtt": [
         "UnicornWebCatchAllLogGroup289B1B17",
         "Arn"
        ]
       },
       "\\\"}],\\\"Version\\\":\\\"2012-10-17\\\"}\"},\"physicalResourceId\":{\"id\":\"EventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C309\"}}"
      ]
     ]
    },
    "Delete": "{\"service\":\"CloudWatchLogs\",\"action\":\"deleteResourcePolicy\",\"parameters\":{\"policyName\":\"uniproplocalwebEventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C3092B67041E\"},\"ignoreErrorCodesMatching\":\"ResourceNotFoundException\"}",
    "InstallLatestAwsSdk": false
   },
   "DependsOn": [
    "EventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C309CustomResourcePolicy48FC0A6C"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/EventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C309/Resource/Default"
   }
  },
  "EventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C309CustomResourcePolicy48FC0A6C": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "logs:DeleteResourcePolicy",
        "logs:PutResourcePolicy"
       ],
       "Effect": "Allow",
       "Resource": "*"
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "EventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C309CustomResourcePolicy48FC0A6C",
    "Roles": [
     {
      "Ref": "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/EventsLogGroupPolicyuniproplocalwebUnicornWebCatchAllRule03F3C309/CustomResourcePolicy/Resource"
   }
  },
  "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/AWS679f53fac002430cb0da5b7982bd2287/ServiceRole/Resource"
   }
  },
  "AWS679f53fac002430cb0da5b7982bd22872D164C4C": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "ce2f3595a340d6c519a65888ef97e3b9b64f053f83608e32cc28162e22d7d99a.zip"
    },
    "Handler": "index.handler",
    "Role": {
     "Fn::GetAtt": [
      "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2",
      "Arn"
     ]
    },
    "Runtime": {
     "Fn::FindInMap": [
      "LatestNodeRuntimeMap",
      {
       "Ref": "AWS::Region"
      },
      "value"
     ]
    },
    "Timeout": 120
   },
   "DependsOn": [
    "AWS679f53fac002430cb0da5b7982bd2287ServiceRoleC1EA0FF2"
   ],
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/AWS679f53fac002430cb0da5b7982bd2287/Resource",
    "aws:asset:path": "asset.ce2f3595a340d6c519a65888ef97e3b9b64f053f83608e32cc28162e22d7d99a",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "ContractStatusTableF5E34442": {
   "Type": "AWS::DynamoDB::GlobalTable",
   "Properties": {
    "AttributeDefinitions": [
     {
      "AttributeName": "PK",
      "AttributeType": "S"
     },
     {
      "AttributeName": "SK",
      "AttributeType": "S"
     }
    ],
    "BillingMode": "PAY_PER_REQUEST",
    "KeySchema": [
     {
      "AttributeName": "PK",
      "KeyType": "HASH"
     },
     {
      "AttributeName": "SK",
      "KeyType": "RANGE"
     }
    ],
    "Replicas": [
     {
      "Region": {
       "Ref": "AWS::Region"
      }
     }
    ],
    "StreamSpecification": {
     "StreamViewType": "NEW_AND_OLD_IMAGES"
    },
    "TableName": "uni-prop-local-contracts-WebTable"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/ContractStatusTable/Resource"
   }
  },
  "UnicornWebIngestDLQFD321369": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "MessageRetentionPeriod": 1209600,
    "QueueName": "UnicornWebIngestDLQ-local"
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebIngestDLQ/Resource"
   }
  },
  "UnicornWebIngestQueue58B56F08": {
   "Type": "AWS::SQS::Queue",
   "Properties": {
    "QueueName": "UnicornWebIngestQueue-local",
    "RedrivePolicy": {
     "deadLetterTargetArn": {
      "Fn::GetAtt": [
       "UnicornWebIngestDLQFD321369",
       "Arn"
      ]
     },
     "maxReceiveCount": 1
    },
    "VisibilityTimeout": 30
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebIngestQueue/Resource"
   }
  },
  "SearchFunctionLogGrouplocalB2B17303": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 1
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/SearchFunctionLogGroup-local/Resource"
   }
  },
  "SearchFunctionlocalServiceRole36C7E834": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/SearchFunction-local/ServiceRole/Resource"
   }
  },
  "SearchFunctionlocalServiceRoleDefaultPolicyF965AC33": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTelemetryRecords",
        "xray:PutTraceSegments"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:Scan"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "ContractStatusTableF5E34442",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "SearchFunctionlocalServiceRoleDefaultPolicyF965AC33",
    "Roles": [
     {
      "Ref": "SearchFunctionlocalServiceRole36C7E834"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/SearchFunction-local/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "SearchFunctionlocal746E3A2E": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "da5593bcab8baad0b4d431dae7099531706cadcd65490e94e3f4b4826bf2ed7c.zip"
    },
    "Environment": {
     "Variables": {
      "SERVICE_NAMESPACE": "unicorn.web",
      "POWERTOOLS_LOGGER_CASE": "PascalCase",
      "POWERTOOLS_SERVICE_NAME": "unicorn.web",
      "POWERTOOLS_TRACE_DISABLED": "false",
      "POWERTOOLS_LOGGER_LOG_EVENT": "true",
      "POWERTOOLS_LOGGER_SAMPLE_RATE": "0",
      "POWERTOOLS_METRICS_NAMESPACE": "unicorn.web",
      "POWERTOOLS_LOG_LEVEL": "INFO",
      "LOG_LEVEL": "INFO",
      "DYNAMODB_TABLE": {
       "Ref": "ContractStatusTableF5E34442"
      }
     }
    },
    "FunctionName": "SearchFunction-local-local",
    "Handler": "search_service.property_search_function.lambda_handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "SearchFunctionLogGrouplocalB2B17303"
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "SearchFunctionlocalServiceRole36C7E834",
      "Arn"
     ]
    },
    "Runtime": "python3.13",
    "Timeout": 30,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "SearchFunctionlocalServiceRoleDefaultPolicyF965AC33",
    "SearchFunctionlocalServiceRole36C7E834"
   ],
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/SearchFunction-local/Resource",
    "aws:asset:path": "asset.da5593bcab8baad0b4d431dae7099531706cadcd65490e94e3f4b4826bf2ed7c",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "RequestApprovalFunctionLogslocal6CC49B6D": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 1
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/RequestApprovalFunctionLogs-local/Resource"
   }
  },
  "RequestApprovalFunctionlocalServiceRole5BE7A598": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/RequestApprovalFunction-local/ServiceRole/Resource"
   }
  },
  "RequestApprovalFunctionlocalServiceRoleDefaultPolicyCC3180E3": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTelemetryRecords",
        "xray:PutTraceSegments"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": "events:PutEvents",
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "UnicornWebBuslocalE31649A0",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "dynamodb:BatchGetItem",
        "dynamodb:ConditionCheckItem",
        "dynamodb:DescribeTable",
        "dynamodb:GetItem",
        "dynamodb:GetRecords",
        "dynamodb:GetShardIterator",
        "dynamodb:Query",
        "dynamodb:Scan"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "ContractStatusTableF5E34442",
         "Arn"
        ]
       }
      },
      {
       "Action": [
        "sqs:ChangeMessageVisibility",
        "sqs:DeleteMessage",
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl",
        "sqs:ReceiveMessage"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "UnicornWebIngestQueue58B56F08",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "RequestApprovalFunctionlocalServiceRoleDefaultPolicyCC3180E3",
    "Roles": [
     {
      "Ref": "RequestApprovalFunctionlocalServiceRole5BE7A598"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/RequestApprovalFunction-local/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "RequestApprovalFunctionlocal9EA532D6": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "da5593bcab8baad0b4d431dae7099531706cadcd65490e94e3f4b4826bf2ed7c.zip"
    },
    "Environment": {
     "Variables": {
      "SERVICE_NAMESPACE": "unicorn.web",
      "POWERTOOLS_LOGGER_CASE": "PascalCase",
      "POWERTOOLS_SERVICE_NAME": "unicorn.web",
      "POWERTOOLS_TRACE_DISABLED": "false",
      "POWERTOOLS_LOGGER_LOG_EVENT": "true",
      "POWERTOOLS_LOGGER_SAMPLE_RATE": "0",
      "POWERTOOLS_METRICS_NAMESPACE": "unicorn.web",
      "POWERTOOLS_LOG_LEVEL": "INFO",
      "LOG_LEVEL": "INFO",
      "DYNAMODB_TABLE": {
       "Ref": "ContractStatusTableF5E34442"
      },
      "EVENT_BUS": {
       "Ref": "UnicornWebBuslocalE31649A0"
      }
     }
    },
    "FunctionName": "RequestApprovalFunction-local-local",
    "Handler": "approvals_service.request_approval_function.lambda_handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "RequestApprovalFunctionLogslocal6CC49B6D"
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "RequestApprovalFunctionlocalServiceRole5BE7A598",
      "Arn"
     ]
    },
    "Runtime": "python3.13",
    "Timeout": 30,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "RequestApprovalFunctionlocalServiceRoleDefaultPolicyCC3180E3",
    "RequestApprovalFunctionlocalServiceRole5BE7A598"
   ],
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/RequestApprovalFunction-local/Resource",
    "aws:asset:path": "asset.da5593bcab8baad0b4d431dae7099531706cadcd65490e94e3f4b4826bf2ed7c",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "RequestApprovalFunctionlocalSqsEventSourceuniproplocalwebUnicornWebIngestQueue627C1ECC639EC530": {
   "Type": "AWS::Lambda::EventSourceMapping",
   "Properties": {
    "BatchSize": 1,
    "EventSourceArn": {
     "Fn::GetAtt": [
      "UnicornWebIngestQueue58B56F08",
      "Arn"
     ]
    },
    "FunctionName": {
     "Ref": "RequestApprovalFunctionlocal9EA532D6"
    },
    "ScalingConfig": {
     "MaximumConcurrency": 5
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/RequestApprovalFunction-local/SqsEventSource:uniproplocalwebUnicornWebIngestQueue627C1ECC/Resource"
   }
  },
  "PublicationApprovedEventHandlerFunctionLogGrouplocalD648C3AC": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 1
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/PublicationApprovedEventHandlerFunctionLogGroup-local/Resource"
   }
  },
  "PublicationApprovedEventHandlerlocalServiceRoleF2BEA5B3": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "lambda.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"
       ]
      ]
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/PublicationApprovedEventHandler-local/ServiceRole/Resource"
   }
  },
  "PublicationApprovedEventHandlerlocalServiceRoleDefaultPolicyE27563D5": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "xray:PutTelemetryRecords",
        "xray:PutTraceSegments"
       ],
       "Effect": "Allow",
       "Resource": "*"
      },
      {
       "Action": [
        "dynamodb:BatchWriteItem",
        "dynamodb:DeleteItem",
        "dynamodb:DescribeTable",
        "dynamodb:PutItem",
        "dynamodb:UpdateItem"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "ContractStatusTableF5E34442",
         "Arn"
        ]
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "PublicationApprovedEventHandlerlocalServiceRoleDefaultPolicyE27563D5",
    "Roles": [
     {
      "Ref": "PublicationApprovedEventHandlerlocalServiceRoleF2BEA5B3"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/PublicationApprovedEventHandler-local/ServiceRole/DefaultPolicy/Resource"
   }
  },
  "PublicationApprovedEventHandlerlocal3EFF4AF2": {
   "Type": "AWS::Lambda::Function",
   "Properties": {
    "Architectures": [
     "x86_64"
    ],
    "Code": {
     "S3Bucket": {
      "Fn::Sub": "cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"
     },
     "S3Key": "da5593bcab8baad0b4d431dae7099531706cadcd65490e94e3f4b4826bf2ed7c.zip"
    },
    "Environment": {
     "Variables": {
      "SERVICE_NAMESPACE": "unicorn.web",
      "POWERTOOLS_LOGGER_CASE": "PascalCase",
      "POWERTOOLS_SERVICE_NAME": "unicorn.web",
      "POWERTOOLS_TRACE_DISABLED": "false",
      "POWERTOOLS_LOGGER_LOG_EVENT": "true",
      "POWERTOOLS_LOGGER_SAMPLE_RATE": "0",
      "POWERTOOLS_METRICS_NAMESPACE": "unicorn.web",
      "POWERTOOLS_LOG_LEVEL": "INFO",
      "LOG_LEVEL": "INFO",
      "DYNAMODB_TABLE": {
       "Ref": "ContractStatusTableF5E34442"
      },
      "EVENT_BUS": {
       "Ref": "UnicornWebBuslocalE31649A0"
      }
     }
    },
    "FunctionName": "PublicationApprovedEventHandler-local-local",
    "Handler": "approvals_service.publication_approved_event_handler.lambda_handler",
    "LoggingConfig": {
     "LogGroup": {
      "Ref": "PublicationApprovedEventHandlerFunctionLogGrouplocalD648C3AC"
     }
    },
    "Role": {
     "Fn::GetAtt": [
      "PublicationApprovedEventHandlerlocalServiceRoleF2BEA5B3",
      "Arn"
     ]
    },
    "Runtime": "python3.13",
    "Timeout": 30,
    "TracingConfig": {
     "Mode": "Active"
    }
   },
   "DependsOn": [
    "PublicationApprovedEventHandlerlocalServiceRoleDefaultPolicyE27563D5",
    "PublicationApprovedEventHandlerlocalServiceRoleF2BEA5B3"
   ],
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/PublicationApprovedEventHandler-local/Resource",
    "aws:asset:path": "asset.da5593bcab8baad0b4d431dae7099531706cadcd65490e94e3f4b4826bf2ed7c",
    "aws:asset:is-bundled": false,
    "aws:asset:property": "Code"
   }
  },
  "PublicationApprovedEventRulelocalE186F561": {
   "Type": "AWS::Events::Rule",
   "Properties": {
    "EventBusName": {
     "Ref": "UnicornWebBuslocalE31649A0"
    },
    "EventPattern": {
     "detail": {
      "source": [
       "unicorn.properties"
      ],
      "detailType": [
       "PublicationEvaluationCompleted"
      ]
     }
    },
    "Name": "unicorn.web-PublicationEvaluationCompleted",
    "State": "ENABLED",
    "Targets": [
     {
      "Arn": {
       "Fn::GetAtt": [
        "PublicationApprovedEventHandlerlocal3EFF4AF2",
        "Arn"
       ]
      },
      "Id": "Target0"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/PublicationApprovedEventRule-local/Resource"
   }
  },
  "PublicationApprovedEventRulelocalAllowEventRuleuniproplocalwebPublicationApprovedEventHandlerlocalAFE4CF4B36085FF3": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "PublicationApprovedEventHandlerlocal3EFF4AF2",
      "Arn"
     ]
    },
    "Principal": "events.amazonaws.com",
    "SourceArn": {
     "Fn::GetAtt": [
      "PublicationApprovedEventRulelocalE186F561",
      "Arn"
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/PublicationApprovedEventRule-local/AllowEventRuleuniproplocalwebPublicationApprovedEventHandlerlocalAFE4CF4B"
   }
  },
  "UnicornWebApiLogGrouplocalF19D85B2": {
   "Type": "AWS::Logs::LogGroup",
   "Properties": {
    "RetentionInDays": 1
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApiLogGroup-local/Resource"
   }
  },
  "UnicornWebApiIntegrationRole59F3296E": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApiIntegrationRole/Resource"
   }
  },
  "UnicornWebApiIntegrationRoleDefaultPolicyBFC20C1C": {
   "Type": "AWS::IAM::Policy",
   "Properties": {
    "PolicyDocument": {
     "Statement": [
      {
       "Action": [
        "sqs:GetQueueAttributes",
        "sqs:GetQueueUrl",
        "sqs:SendMessage"
       ],
       "Effect": "Allow",
       "Resource": {
        "Fn::GetAtt": [
         "UnicornWebIngestQueue58B56F08",
         "Arn"
        ]
       }
      },
      {
       "Action": "lambda:InvokeFunction",
       "Effect": "Allow",
       "Resource": [
        {
         "Fn::GetAtt": [
          "SearchFunctionlocal746E3A2E",
          "Arn"
         ]
        },
        {
         "Fn::Join": [
          "",
          [
           {
            "Fn::GetAtt": [
             "SearchFunctionlocal746E3A2E",
             "Arn"
            ]
           },
           ":*"
          ]
         ]
        }
       ]
      }
     ],
     "Version": "2012-10-17"
    },
    "PolicyName": "UnicornWebApiIntegrationRoleDefaultPolicyBFC20C1C",
    "Roles": [
     {
      "Ref": "UnicornWebApiIntegrationRole59F3296E"
     }
    ]
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApiIntegrationRole/DefaultPolicy/Resource"
   }
  },
  "UnicornWebApilocal44486202": {
   "Type": "AWS::ApiGateway::RestApi",
   "Properties": {
    "EndpointConfiguration": {
     "Types": [
      "REGIONAL"
     ]
    },
    "Name": "UnicornWebApi-local"
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Resource"
   }
  },
  "UnicornWebApilocalCloudWatchRoleE2111467": {
   "Type": "AWS::IAM::Role",
   "Properties": {
    "AssumeRolePolicyDocument": {
     "Statement": [
      {
       "Action": "sts:AssumeRole",
       "Effect": "Allow",
       "Principal": {
        "Service": "apigateway.amazonaws.com"
       }
      }
     ],
     "Version": "2012-10-17"
    },
    "ManagedPolicyArns": [
     {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":iam::aws:policy/service-role/AmazonAPIGatewayPushToCloudWatchLogs"
       ]
      ]
     }
    ]
   },
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/CloudWatchRole/Resource"
   }
  },
  "UnicornWebApilocalAccount799F5877": {
   "Type": "AWS::ApiGateway::Account",
   "Properties": {
    "CloudWatchRoleArn": {
     "Fn::GetAtt": [
      "UnicornWebApilocalCloudWatchRoleE2111467",
      "Arn"
     ]
    }
   },
   "DependsOn": [
    "UnicornWebApilocal44486202"
   ],
   "UpdateReplacePolicy": "Delete",
   "DeletionPolicy": "Delete",
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Account"
   }
  },
  "UnicornWebApilocalDeployment8D9CB59B9cccee8925755c21d30ca195494239c5": {
   "Type": "AWS::ApiGateway::Deployment",
   "Properties": {
    "Description": "Automatically created by the RestApi construct",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "DependsOn": [
    "UnicornWebApilocalpropertiescountrycitystreetnumberGETF4BCE577",
    "UnicornWebApilocalpropertiescountrycitystreetnumberB0E5B6FD",
    "UnicornWebApilocalpropertiescountrycitystreet58F83D5B",
    "UnicornWebApilocalpropertiescountrycity8A1DF022",
    "UnicornWebApilocalpropertiescountryC5489B93",
    "UnicornWebApilocalproperties62A1330F",
    "UnicornWebApilocalrequestapprovalPOST598091D4",
    "UnicornWebApilocalrequestapproval99D37D43",
    "UnicornWebApilocalsearchcountrycitystreetGET87112703",
    "UnicornWebApilocalsearchcountrycitystreetBFFAB05E",
    "UnicornWebApilocalsearchcountrycityGET5696C1EE",
    "UnicornWebApilocalsearchcountrycity75F4C38C",
    "UnicornWebApilocalsearchcountryGET68D364F6",
    "UnicornWebApilocalsearchcountry27C00DBC",
    "UnicornWebApilocalsearchE2D6ECF0"
   ],
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Deployment/Resource"
   }
  },
  "UnicornWebApilocalDeploymentStagelocal8175B380": {
   "Type": "AWS::ApiGateway::Stage",
   "Properties": {
    "AccessLogSetting": {
     "DestinationArn": {
      "Fn::GetAtt": [
       "UnicornWebApiLogGrouplocalF19D85B2",
       "Arn"
      ]
     },
     "Format": "$context.identity.sourceIp $context.identity.caller $context.identity.user [$context.requestTime] \"$context.httpMethod $context.resourcePath $context.protocol\" $context.status $context.responseLength $context.requestId"
    },
    "DeploymentId": {
     "Ref": "UnicornWebApilocalDeployment8D9CB59B9cccee8925755c21d30ca195494239c5"
    },
    "MethodSettings": [
     {
      "DataTraceEnabled": true,
      "HttpMethod": "*",
      "MetricsEnabled": true,
      "ResourcePath": "/*"
     },
     {
      "DataTraceEnabled": false,
      "HttpMethod": "*",
      "LoggingLevel": "INFO",
      "ResourcePath": "/*"
     }
    ],
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    },
    "StageName": "local",
    "TracingEnabled": true
   },
   "DependsOn": [
    "UnicornWebApilocalAccount799F5877"
   ],
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/DeploymentStage.local/Resource"
   }
  },
  "UnicornWebApilocalrequestapproval99D37D43": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "UnicornWebApilocal44486202",
      "RootResourceId"
     ]
    },
    "PathPart": "request_approval",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/request_approval/Resource"
   }
  },
  "UnicornWebApilocalrequestapprovalPOST598091D4": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "POST",
    "Integration": {
     "Credentials": {
      "Fn::GetAtt": [
       "UnicornWebApiIntegrationRole59F3296E",
       "Arn"
      ]
     },
     "IntegrationHttpMethod": "POST",
     "IntegrationResponses": [
      {
       "ResponseTemplates": {
        "application/json": "OK"
       },
       "StatusCode": "200"
      }
     ],
     "PassthroughBehavior": "NEVER",
     "RequestParameters": {
      "integration.request.header.Content-Type": "'application/x-www-form-urlencoded'"
     },
     "RequestTemplates": {
      "application/json": "Action=SendMessage&MessageBody=$input.body&MessageAttribute.1.Name=HttpMethod&MessageAttribute.1.Value.StringValue=$context.httpMethod&MessageAttribute.1.Value.DataType=String"
     },
     "Type": "AWS",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":sqs:path/",
        {
         "Fn::GetAtt": [
          "UnicornWebIngestQueue58B56F08",
          "QueueName"
         ]
        }
       ]
      ]
     }
    },
    "MethodResponses": [
     {
      "StatusCode": "200"
     }
    ],
    "ResourceId": {
     "Ref": "UnicornWebApilocalrequestapproval99D37D43"
    },
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/request_approval/POST/Resource"
   }
  },
  "UnicornWebApilocalsearchE2D6ECF0": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "UnicornWebApilocal44486202",
      "RootResourceId"
     ]
    },
    "PathPart": "search",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/Resource"
   }
  },
  "UnicornWebApilocalsearchcountry27C00DBC": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "UnicornWebApilocalsearchE2D6ECF0"
    },
    "PathPart": "{country}",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/Resource"
   }
  },
  "UnicornWebApilocalsearchcountryGETApiPermissionuniproplocalwebUnicornWebApilocal9F877ADFGETsearchcountry3DA53669": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SearchFunctionlocal746E3A2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "UnicornWebApilocal44486202"
       },
       "/",
       {
        "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
       },
       "/GET/search/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/GET/ApiPermission.uniproplocalwebUnicornWebApilocal9F877ADF.GET..search.{country}"
   }
  },
  "UnicornWebApilocalsearchcountryGETApiPermissionTestuniproplocalwebUnicornWebApilocal9F877ADFGETsearchcountryEE30699A": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SearchFunctionlocal746E3A2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "UnicornWebApilocal44486202"
       },
       "/test-invoke-stage/GET/search/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/GET/ApiPermission.Test.uniproplocalwebUnicornWebApilocal9F877ADF.GET..search.{country}"
   }
  },
  "UnicornWebApilocalsearchcountryGET68D364F6": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SearchFunctionlocal746E3A2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "UnicornWebApilocalsearchcountry27C00DBC"
    },
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/GET/Resource"
   }
  },
  "UnicornWebApilocalsearchcountrycity75F4C38C": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "UnicornWebApilocalsearchcountry27C00DBC"
    },
    "PathPart": "{city}",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/{city}/Resource"
   }
  },
  "UnicornWebApilocalsearchcountrycityGETApiPermissionuniproplocalwebUnicornWebApilocal9F877ADFGETsearchcountrycityDB318767": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SearchFunctionlocal746E3A2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "UnicornWebApilocal44486202"
       },
       "/",
       {
        "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
       },
       "/GET/search/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/{city}/GET/ApiPermission.uniproplocalwebUnicornWebApilocal9F877ADF.GET..search.{country}.{city}"
   }
  },
  "UnicornWebApilocalsearchcountrycityGETApiPermissionTestuniproplocalwebUnicornWebApilocal9F877ADFGETsearchcountrycityA5DB4813": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SearchFunctionlocal746E3A2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "UnicornWebApilocal44486202"
       },
       "/test-invoke-stage/GET/search/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/{city}/GET/ApiPermission.Test.uniproplocalwebUnicornWebApilocal9F877ADF.GET..search.{country}.{city}"
   }
  },
  "UnicornWebApilocalsearchcountrycityGET5696C1EE": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SearchFunctionlocal746E3A2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "UnicornWebApilocalsearchcountrycity75F4C38C"
    },
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/{city}/GET/Resource"
   }
  },
  "UnicornWebApilocalsearchcountrycitystreetBFFAB05E": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "UnicornWebApilocalsearchcountrycity75F4C38C"
    },
    "PathPart": "{street}",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/{city}/{street}/Resource"
   }
  },
  "UnicornWebApilocalsearchcountrycitystreetGETApiPermissionuniproplocalwebUnicornWebApilocal9F877ADFGETsearchcountrycitystreetD0E41884": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SearchFunctionlocal746E3A2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "UnicornWebApilocal44486202"
       },
       "/",
       {
        "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
       },
       "/GET/search/*/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/{city}/{street}/GET/ApiPermission.uniproplocalwebUnicornWebApilocal9F877ADF.GET..search.{country}.{city}.{street}"
   }
  },
  "UnicornWebApilocalsearchcountrycitystreetGETApiPermissionTestuniproplocalwebUnicornWebApilocal9F877ADFGETsearchcountrycitystreetDD74C681": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SearchFunctionlocal746E3A2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "UnicornWebApilocal44486202"
       },
       "/test-invoke-stage/GET/search/*/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/{city}/{street}/GET/ApiPermission.Test.uniproplocalwebUnicornWebApilocal9F877ADF.GET..search.{country}.{city}.{street}"
   }
  },
  "UnicornWebApilocalsearchcountrycitystreetGET87112703": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SearchFunctionlocal746E3A2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "UnicornWebApilocalsearchcountrycitystreetBFFAB05E"
    },
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/search/{country}/{city}/{street}/GET/Resource"
   }
  },
  "UnicornWebApilocalproperties62A1330F": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Fn::GetAtt": [
      "UnicornWebApilocal44486202",
      "RootResourceId"
     ]
    },
    "PathPart": "properties",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/properties/Resource"
   }
  },
  "UnicornWebApilocalpropertiescountryC5489B93": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "UnicornWebApilocalproperties62A1330F"
    },
    "PathPart": "{country}",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/properties/{country}/Resource"
   }
  },
  "UnicornWebApilocalpropertiescountrycity8A1DF022": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "UnicornWebApilocalpropertiescountryC5489B93"
    },
    "PathPart": "{city}",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/properties/{country}/{city}/Resource"
   }
  },
  "UnicornWebApilocalpropertiescountrycitystreet58F83D5B": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "UnicornWebApilocalpropertiescountrycity8A1DF022"
    },
    "PathPart": "{street}",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/properties/{country}/{city}/{street}/Resource"
   }
  },
  "UnicornWebApilocalpropertiescountrycitystreetnumberB0E5B6FD": {
   "Type": "AWS::ApiGateway::Resource",
   "Properties": {
    "ParentId": {
     "Ref": "UnicornWebApilocalpropertiescountrycitystreet58F83D5B"
    },
    "PathPart": "{number}",
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/properties/{country}/{city}/{street}/{number}/Resource"
   }
  },
  "UnicornWebApilocalpropertiescountrycitystreetnumberGETApiPermissionuniproplocalwebUnicornWebApilocal9F877ADFGETpropertiescountrycitystreetnumber09DEDDB9": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SearchFunctionlocal746E3A2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "UnicornWebApilocal44486202"
       },
       "/",
       {
        "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
       },
       "/GET/properties/*/*/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/properties/{country}/{city}/{street}/{number}/GET/ApiPermission.uniproplocalwebUnicornWebApilocal9F877ADF.GET..properties.{country}.{city}.{street}.{number}"
   }
  },
  "UnicornWebApilocalpropertiescountrycitystreetnumberGETApiPermissionTestuniproplocalwebUnicornWebApilocal9F877ADFGETpropertiescountrycitystreetnumber1C6678C0": {
   "Type": "AWS::Lambda::Permission",
   "Properties": {
    "Action": "lambda:InvokeFunction",
    "FunctionName": {
     "Fn::GetAtt": [
      "SearchFunctionlocal746E3A2E",
      "Arn"
     ]
    },
    "Principal": "apigateway.amazonaws.com",
    "SourceArn": {
     "Fn::Join": [
      "",
      [
       "arn:",
       {
        "Ref": "AWS::Partition"
       },
       ":execute-api:",
       {
        "Ref": "AWS::Region"
       },
       ":",
       {
        "Ref": "AWS::AccountId"
       },
       ":",
       {
        "Ref": "UnicornWebApilocal44486202"
       },
       "/test-invoke-stage/GET/properties/*/*/*/*"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/properties/{country}/{city}/{street}/{number}/GET/ApiPermission.Test.uniproplocalwebUnicornWebApilocal9F877ADF.GET..properties.{country}.{city}.{street}.{number}"
   }
  },
  "UnicornWebApilocalpropertiescountrycitystreetnumberGETF4BCE577": {
   "Type": "AWS::ApiGateway::Method",
   "Properties": {
    "AuthorizationType": "NONE",
    "HttpMethod": "GET",
    "Integration": {
     "IntegrationHttpMethod": "POST",
     "Type": "AWS_PROXY",
     "Uri": {
      "Fn::Join": [
       "",
       [
        "arn:",
        {
         "Ref": "AWS::Partition"
        },
        ":apigateway:",
        {
         "Ref": "AWS::Region"
        },
        ":lambda:path/2015-03-31/functions/",
        {
         "Fn::GetAtt": [
          "SearchFunctionlocal746E3A2E",
          "Arn"
         ]
        },
        "/invocations"
       ]
      ]
     }
    },
    "ResourceId": {
     "Ref": "UnicornWebApilocalpropertiescountrycitystreetnumberB0E5B6FD"
    },
    "RestApiId": {
     "Ref": "UnicornWebApilocal44486202"
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/UnicornWebApi-local/Default/properties/{country}/{city}/{street}/{number}/GET/Resource"
   }
  },
  "ContractStatusChangedEventSchema": {
   "Type": "AWS::EventSchemas::Schema",
   "Properties": {
    "Content": "{\n  \"openapi\": \"3.0.0\",\n  \"info\": {\n    \"version\": \"1.0.0\",\n    \"title\": \"PublicationApprovalRequested\"\n  },\n  \"paths\": {},\n  \"components\": {\n    \"schemas\": {\n      \"AWSEvent\": {\n        \"type\": \"object\",\n        \"required\": [\n          \"detail-type\",\n          \"resources\",\n          \"detail\",\n          \"id\",\n          \"source\",\n          \"time\",\n          \"region\",\n          \"version\",\n          \"account\"\n        ],\n        \"x-amazon-events-detail-type\": \"PublicationApprovalRequested\",\n        \"x-amazon-events-source\": \"unicorn.web\",\n        \"properties\": {\n          \"detail\": {\n            \"$ref\": \"#/components/schemas/PublicationApprovalRequested\"\n          },\n          \"account\": {\n            \"type\": \"string\"\n          },\n          \"detail-type\": {\n            \"type\": \"string\"\n          },\n          \"id\": {\n            \"type\": \"string\"\n          },\n          \"region\": {\n            \"type\": \"string\"\n          },\n          \"resources\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"source\": {\n            \"type\": \"string\"\n          },\n          \"time\": {\n            \"type\": \"string\",\n            \"format\": \"date-time\"\n          },\n          \"version\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"PublicationApprovalRequested\": {\n        \"type\": \"object\",\n        \"required\": [\n          \"images\",\n          \"address\",\n          \"listprice\",\n          \"contract\",\n          \"description\",\n          \"currency\",\n          \"property_id\",\n          \"status\"\n        ],\n        \"properties\": {\n          \"address\": {\n            \"$ref\": \"#/components/schemas/Address\"\n          },\n          \"contract\": {\n            \"type\": \"string\"\n          },\n          \"currency\": {\n            \"type\": \"string\"\n          },\n          \"description\": {\n            \"type\": \"string\"\n          },\n          \"images\": {\n            \"type\": \"array\",\n            \"items\": {\n              \"type\": \"string\"\n            }\n          },\n          \"listprice\": {\n            \"type\": \"string\"\n          },\n          \"property_id\": {\n            \"type\": \"string\"\n          },\n          \"status\": {\n            \"type\": \"string\"\n          }\n        }\n      },\n      \"Address\": {\n        \"type\": \"object\",\n        \"required\": [\n          \"country\",\n          \"number\",\n          \"city\",\n          \"street\"\n        ],\n        \"properties\": {\n          \"city\": {\n            \"type\": \"string\"\n          },\n          \"country\": {\n            \"type\": \"string\"\n          },\n          \"number\": {\n            \"type\": \"string\"\n          },\n          \"street\": {\n            \"type\": \"string\"\n          }\n        }\n      }\n    }\n  }\n}\n",
    "Description": "The schema for a request to publish a property",
    "RegistryName": "unicorn.web-local",
    "SchemaName": "unicorn.web-local@PublicationApprovalRequested",
    "Type": "OpenApi3"
   },
   "DependsOn": [
    "uniproplocalwebEventSchemaStackunicornweb0317A0E3"
   ],
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/ContractStatusChangedEventSchema"
   }
  },
  "uniproplocalwebEventSchemaStackunicornweb0317A0E3": {
   "Type": "AWS::EventSchemas::Registry",
   "Properties": {
    "Description": "Event schemas for unicorn.web",
    "RegistryName": "unicorn.web-local"
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/uni-prop-local-web-EventSchemaStack/unicorn.web"
   }
  },
  "uniproplocalwebEventSchemaStackRegistryPolicyD3DEF895": {
   "Type": "AWS::EventSchemas::RegistryPolicy",
   "Properties": {
    "Policy": {
     "Statement": [
      {
       "Action": [
        "schemas:DescribeCodeBinding",
        "schemas:DescribeRegistry",
        "schemas:DescribeSchema",
        "schemas:GetCodeBindingSource",
        "schemas:ListSchemaVersions",
        "schemas:ListSchemas",
        "schemas:SearchSchemas"
       ],
       "Effect": "Allow",
       "Principal": {
        "AWS": {
         "Fn::Join": [
          "",
          [
           "arn:",
           {
            "Ref": "AWS::Partition"
           },
           ":iam::",
           {
            "Ref": "AWS::AccountId"
           },
           ":root"
          ]
         ]
        }
       },
       "Resource": [
        {
         "Fn::GetAtt": [
          "ContractStatusChangedEventSchema",
          "SchemaArn"
         ]
        },
        {
         "Fn::GetAtt": [
          "uniproplocalwebEventSchemaStackunicornweb0317A0E3",
          "RegistryArn"
         ]
        }
       ],
       "Sid": "AllowExternalServices"
      }
     ],
     "Version": "2012-10-17"
    },
    "RegistryName": "unicorn.web-local"
   },
   "DependsOn": [
    "ContractStatusChangedEventSchema"
   ],
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/uni-prop-local-web-EventSchemaStack/RegistryPolicy"
   }
  },
  "uniproplocalwebSubscriptionsStackContractEventsBusPublishPolicyBD27D326": {
   "Type": "AWS::Events::EventBusPolicy",
   "Properties": {
    "EventBusName": {
     "Ref": "UnicornWebBuslocalE31649A0"
    },
    "Statement": {
     "Action": [
      "events:PutRule",
      "events:DeleteRule",
      "events:DescribeRule",
      "events:DisableRule",
      "events:EnableRule",
      "events:PutTargets",
      "events:RemoveTargets"
     ],
     "Condition": {
      "StringEquals": {
       "events:source": [
        "unicorn.web",
        "unicorn.properties"
       ]
      },
      "StringEqualsIfExists": {
       "events:creatorAccount": {
        "Ref": "AWS::AccountId"
       }
      },
      "Null": {
       "events:source": "false"
      }
     },
     "Effect": "Allow",
     "Principal": {
      "AWS": {
       "Fn::Join": [
        "",
        [
         "arn:",
         {
          "Ref": "AWS::Partition"
         },
         ":iam::",
         {
          "Ref": "AWS::AccountId"
         },
         ":root"
        ]
       ]
      }
     },
     "Resource": {
      "Fn::GetAtt": [
       "UnicornWebBuslocalE31649A0",
       "Arn"
      ]
     }
    },
    "StatementId": {
     "Fn::Join": [
      "",
      [
       {
        "Ref": "UnicornWebBuslocalE31649A0"
       },
       "-local-policy"
      ]
     ]
    }
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/uni-prop-local-web-SubscriptionsStack/ContractEventsBusPublishPolicy"
   }
  },
  "CDKMetadata": {
   "Type": "AWS::CDK::Metadata",
   "Properties": {
    "Analytics": "v2:deflate64:H4sIAAAAAAAA/22Ry27jMAxFv6V7RX24QNdJ+ti0aJoMZhvQMuuokUXXpBoYgv99INlNgmlXPLyCyEvyRl/fFfr2Ag48M9V+5myp40bA7BUceBvxC72wjg8pLgKr5bv/jVfkrOnVOjhMcoqDclSzjs9UP3UU2qR/86AcNGUFOm6srx0K+cfgjVjy6gjL95OY+2wodAZfoG2tr4/df6gr7BrLbMkPykKj42QuPU02abJJySYXW2BGYT1PQXGhF8HsURbAqKreQ0NVqeMfKB3+vUkfnxyV4LIwKP5kHd8Chlwzw6CgtTUIHqDXcY0s89bmjiecG0PBi7rH1lHfoJeknmUbgTqXHGGNnCfNrr6TqebILyg7qpI00qDG85kdNsA6plKZx1+1Zen6cx7XMwzKBBZqtt1UmfX8wMusnRr/l575SAamcxy1vNo0yHSk1yBtyBMvyVdW8rVWvezIXxb6utBXFx9s7awLXmyDej3Gf+zQBGSwAgAA"
   },
   "Metadata": {
    "aws:cdk:path": "uni-prop-local-web/CDKMetadata/Default"
   },
   "Condition": "CDKMetadataAvailable"
  }
 },
 "Mappings": {
  "LatestNodeRuntimeMap": {
   "af-south-1": {
    "value": "nodejs20.x"
   },
   "ap-east-1": {
    "value": "nodejs20.x"
   },
   "ap-northeast-1": {
    "value": "nodejs20.x"
   },
   "ap-northeast-2": {
    "value": "nodejs20.x"
   },
   "ap-northeast-3": {
    "value": "nodejs20.x"
   },
   "ap-south-1": {
    "value": "nodejs20.x"
   },
   "ap-south-2": {
    "value": "nodejs20.x"
   },
   "ap-southeast-1": {
    "value": "nodejs20.x"
   },
   "ap-southeast-2": {
    "value": "nodejs20.x"
   },
   "ap-southeast-3": {
    "value": "nodejs20.x"
   },
   "ap-southeast-4": {
    "value": "nodejs20.x"
   },
   "ap-southeast-5": {
    "value": "nodejs20.x"
   },
   "ap-southeast-7": {
    "value": "nodejs20.x"
   },
   "ca-central-1": {
    "value": "nodejs20.x"
   },
   "ca-west-1": {
    "value": "nodejs20.x"
   },
   "cn-north-1": {
    "value": "nodejs18.x"
   },
   "cn-northwest-1": {
    "value": "nodejs18.x"
   },
   "eu-central-1": {
    "value": "nodejs20.x"
   },
   "eu-central-2": {
    "value": "nodejs20.x"
   },
   "eu-north-1": {
    "value": "nodejs20.x"
   },
   "eu-south-1": {
    "value": "nodejs20.x"
   },
   "eu-south-2": {
    "value": "nodejs20.x"
   },
   "eu-west-1": {
    "value": "nodejs20.x"
   },
   "eu-west-2": {
    "value": "nodejs20.x"
   },
   "eu-west-3": {
    "value": "nodejs20.x"
   },
   "il-central-1": {
    "value": "nodejs20.x"
   },
   "me-central-1": {
    "value": "nodejs20.x"
   },
   "me-south-1": {
    "value": "nodejs20.x"
   },
   "mx-central-1": {
    "value": "nodejs20.x"
   },
   "sa-east-1": {
    "value": "nodejs20.x"
   },
   "us-east-1": {
    "value": "nodejs20.x"
   },
   "us-east-2": {
    "value": "nodejs20.x"
   },
   "us-west-1": {
    "value": "nodejs20.x"
   },
   "us-west-2": {
    "value": "nodejs20.x"
   }
  }
 },
 "Outputs": {
  "UnicornWebApilocalEndpointDD83BAD9": {
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "UnicornWebApilocal44486202"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
      },
      "/"
     ]
    ]
   }
  },
  "ApiUrl": {
   "Description": "Web service API endpoint",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "UnicornWebApilocal44486202"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
      },
      "/"
     ]
    ]
   }
  },
  "ApiSearchProperties": {
   "Description": "GET request to list all properties in a given city",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "UnicornWebApilocal44486202"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
      },
      "/search"
     ]
    ]
   }
  },
  "ApiSearchPropertiesByCity": {
   "Description": "GET request to list all properties in a given city",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "UnicornWebApilocal44486202"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
      },
      "/search/{country}/{city}"
     ]
    ]
   }
  },
  "ApiSearchPropertiesByStreet": {
   "Description": "GET request to list all properties in a given street",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "UnicornWebApilocal44486202"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
      },
      "/search/{country}/{city}/{street}"
     ]
    ]
   }
  },
  "ApiPropertyDetails": {
   "Description": "GET request to list all properties in a given street",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "UnicornWebApilocal44486202"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
      },
      "/search/{country}/{city}/{street}/{number}"
     ]
    ]
   }
  },
  "ApiRequestApproval": {
   "Description": "POST request to request approval for a property",
   "Value": {
    "Fn::Join": [
     "",
     [
      "https://",
      {
       "Ref": "UnicornWebApilocal44486202"
      },
      ".execute-api.",
      {
       "Ref": "AWS::Region"
      },
      ".",
      {
       "Ref": "AWS::URLSuffix"
      },
      "/",
      {
       "Ref": "UnicornWebApilocalDeploymentStagelocal8175B380"
      },
      "/request_approval"
     ]
    ]
   }
  },
  "IngestQueueUrl": {
   "Description": "URL for the Ingest SQS Queue",
   "Value": {
    "Ref": "UnicornWebIngestQueue58B56F08"
   }
  },
  "WebTableName": {
   "Description": "DynamoDB table storing property information",
   "Value": {
    "Ref": "ContractStatusTableF5E34442"
   }
  },
  "searchFunctionName": {
   "Description": "Search function name",
   "Value": {
    "Ref": "SearchFunctionlocal746E3A2E"
   }
  },
  "searchFunctionArn": {
   "Description": "Search function ARN",
   "Value": {
    "Fn::GetAtt": [
     "SearchFunctionlocal746E3A2E",
     "Arn"
    ]
   }
  },
  "PublicationApprovedEventHandlerFunctionName": {
   "Description": "PublicationApprovedEventHandler function name",
   "Value": {
    "Ref": "PublicationApprovedEventHandlerlocal3EFF4AF2"
   }
  },
  "PublicationApprovedEventHandlerFunctionArn": {
   "Description": "PublicationApprovedEventHandler function ARN",
   "Value": {
    "Fn::GetAtt": [
     "PublicationApprovedEventHandlerlocal3EFF4AF2",
     "Arn"
    ]
   }
  },
  "UnicornWebEventBusName": {
   "Value": {
    "Ref": "UnicornWebBuslocalE31649A0"
   }
  },
  "UnicornWebCatchAllLogGroupName": {
   "Description": "Log all events on the service's EventBridge Bus",
   "Value": {
    "Ref": "UnicornWebCatchAllLogGroup289B1B17"
   }
  },
  "UnicornWebCatchAllLogGroupArn": {
   "Description": "Log all events on the service's EventBridge Bus",
   "Value": {
    "Fn::GetAtt": [
     "UnicornWebCatchAllLogGroup289B1B17",
     "Arn"
    ]
   }
  }
 },
 "Conditions": {
  "CDKMetadataAvailable": {
   "Fn::Or": [
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "af-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-northeast-3"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-south-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-3"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ap-southeast-4"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ca-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "ca-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "cn-northwest-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-central-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-north-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-south-2"
       ]
      }
     ]
    },
    {
     "Fn::Or": [
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "eu-west-3"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "il-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "me-central-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "me-south-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "sa-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-1"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-east-2"
       ]
      },
      {
       "Fn::Equals": [
        {
         "Ref": "AWS::Region"
        },
        "us-west-1"
       ]
      }
     ]
    },
    {
     "Fn::Equals": [
      {
       "Ref": "AWS::Region"
      },
      "us-west-2"
     ]
    }
   ]
  }
 },
 "Parameters": {
  "BootstrapVersion": {
   "Type": "AWS::SSM::Parameter::Value<String>",
   "Default": "/cdk-bootstrap/hnb659fds/version",
   "Description": "Version of the CDK Bootstrap resources in this environment, automatically retrieved from SSM Parameter Store. [cdk:skip]"
  }
 },
 "Rules": {
  "CheckBootstrapVersion": {
   "Assertions": [
    {
     "Assert": {
      "Fn::Not": [
       {
        "Fn::Contains": [
         [
          "1",
          "2",
          "3",
          "4",
          "5"
         ],
         {
          "Ref": "BootstrapVersion"
         }
        ]
       }
      ]
     },
     "AssertDescription": "CDK bootstrap stack version 6 required. Please run 'cdk bootstrap' with a recent version of the CDK CLI."
    }
   ]
  }
 }
}